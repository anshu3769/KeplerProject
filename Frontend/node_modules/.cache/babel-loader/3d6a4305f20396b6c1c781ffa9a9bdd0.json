{"ast":null,"code":"import _classCallCheck from \"/home/anshu/sandbox/KeplerProject/Frontend/typefast/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anshu/sandbox/KeplerProject/Frontend/typefast/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anshu/sandbox/KeplerProject/Frontend/typefast/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anshu/sandbox/KeplerProject/Frontend/typefast/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anshu/sandbox/KeplerProject/Frontend/typefast/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anshu/sandbox/KeplerProject/Frontend/typefast/src/components/App.js\";\nimport React from 'react';\nimport '../styles/App.css';\nimport StartButton from './StartButton';\nimport Timer from './Timer';\nimport CreatePlayer from './Player';\nimport RegisterPlayer from './Register';\nimport WordList from './WordList';\nimport UserList from './UserList';\nimport CreateScore from './Score';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  //Constructor...Starts\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.handleChange = function (event) {\n      _this.setState({\n        value: event.target.value\n      });\n    };\n\n    _this.handleFirstNameChange = function (event) {\n      console.log(\"firstnamechange\");\n\n      _this.setState({\n        firstName: event.target.value\n      });\n\n      console.log(_this.state.firstName);\n    };\n\n    _this.handleLastNameChange = function (event) {\n      _this.setState({\n        lastName: event.target.value\n      });\n\n      console.log(_this.state.lastName);\n    };\n\n    _this.handleUserNameChange = function (event) {\n      console.log('handle user name change');\n\n      _this.setState({\n        userName: event.target.value\n      });\n\n      console.log(_this.state.userName);\n    };\n\n    _this.handleSubmit = function (event) {\n      //call the create player mutation with the given input\n      // console.log('this state value = ', this.state.value);\n      // if (this.index < this.inputWords.length - 1) {\n      //   this.index++;\n      //   console.log('Handle submit if::index = ', this.index);\n      //   this.outputWords.push(this.state.value);\n      //   this.setState({\n      //     text: this.inputWords[this.index].word,\n      //   });\n      // } else {\n      //   this.calculateScores();\n      //   this.setState({\n      //     view: 'Score Time',\n      //   });\n      // }\n      // // to clear the input box every time. This gives warning though\n      // this.state.value = '';\n      event.preventDefault();\n    };\n\n    _this.isUniqueUser = function () {\n      var i;\n      console.log('isUniqueUser');\n\n      for (i = 0; i < _this.state.users.length; i++) {\n        if (_this.state.users[i].userName === _this.userName) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    _this.handleRegister = function () {\n      if (_this.isUniqueUser()) {\n        console.log('new user');\n\n        _this.setState({\n          view: 'Loading words...'\n        });\n      } else {\n        _this.setState({\n          view: 'Register',\n          registerError: 'Username already taken'\n        });\n      }\n    };\n\n    _this.handleWordList = function (words) {\n      _this.inputWords = words;\n\n      _this.setState({\n        view: 'Game'\n      });\n    };\n\n    _this.handleUserList = function (users) {\n      console.log('handle user list');\n      _this.state.users = users;\n      console.log(_this.state.users.length);\n    };\n\n    _this.ticks = function () {\n      var min = Math.floor(_this.secondsRemaining / 60);\n      var sec = _this.secondsRemaining;\n\n      _this.setState({\n        minutes: min,\n        seconds: sec\n      });\n\n      if (min < 10) {\n        _this.setState({\n          minutes: '0' + min\n        });\n      }\n\n      if (sec < 10) {\n        _this.setState({\n          seconds: '0' + sec\n        });\n      }\n\n      if (min === 0 & sec === 0) {\n        clearInterval(_this.intervalHandle);\n\n        _this.setState({\n          view: 'Score Time'\n        });\n      }\n\n      _this.secondsRemaining--;\n    };\n\n    _this.startCountDown = function () {\n      console.log('inside countdown');\n      _this.intervalHandle = setInterval(_this.ticks, 1000);\n      _this.secondsRemaining = 10;\n    };\n\n    _this.state = {\n      minutes: '1',\n      seconds: '00',\n      text: 'Live',\n      view: 'Register',\n      firstName: '',\n      lastName: '',\n      userName: '',\n      users: [],\n      registerError: ''\n    };\n    _this.secondsRemaining = 0;\n    _this.intervalHandle = 0;\n    _this.inputWords = [];\n    _this.index = -1;\n    _this.outputWords = [];\n    _this.scores = 0;\n    return _this;\n  } //Constructor...Ends\n  //calculateScore....Starts\n\n\n  _createClass(App, [{\n    key: \"calculateScores\",\n    value: function calculateScores() {\n      var index = 1;\n\n      while (index < this.outputWords.length) {\n        console.log('outputWords ', this.outputWords[index]);\n        console.log('inputWords ', this.inputWords[index - 1].word);\n        if (this.outputWords[index] === this.inputWords[index - 1].word) this.scores++;\n        index++;\n      }\n    } //handleChange...Starts\n\n  }, {\n    key: \"render\",\n    //startCountDown...Ends\n    //render...Starts\n    value: function render() {\n      if (this.state.view === 'Register') {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, \"!!!TYPING GAME!!!\"), React.createElement(UserList, {\n          onLoadComplete: this.handleUserList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }), React.createElement(RegisterPlayer, {\n          handleFirstName: this.handleFirstNameChange,\n          handleLastName: this.handleLastNameChange,\n          handleUserName: this.handleUserNameChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }), React.createElement(CreatePlayer, {\n          handleRegister: this.handleRegister,\n          firstName: this.state.firstName,\n          lastName: this.state.lastName,\n          userName: this.state.userName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }), this.state.registerError);\n      }\n\n      if (this.state.view === 'Loading words...') {\n        return React.createElement(WordList, {\n          onLoadComplete: this.handleWordList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        });\n      }\n\n      if (this.state.view === 'Game') {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          float: \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(Timer, {\n          minutes: this.state.minutes,\n          seconds: this.state.seconds,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }), React.createElement(StartButton, {\n          startCountDown: this.startCountDown,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        })), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, \"!!!TYPING GAME!!!\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, this.state.text), React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.value,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          style: {\n            marginLeft: 10\n          },\n          type: \"submit\",\n          value: \"Submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }));\n      }\n\n      if (this.state.view === 'Score Time') {\n        return React.createElement(CreateScore, {\n          userName: this.state.userName,\n          score: this.scores,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }) //<div>\"You scored \" {this.scores}</div>\n        ;\n      }\n    } //render...Ends\n\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/home/anshu/sandbox/KeplerProject/Frontend/typefast/src/components/App.js"],"names":["React","StartButton","Timer","CreatePlayer","RegisterPlayer","WordList","UserList","CreateScore","App","props","handleChange","event","setState","value","target","handleFirstNameChange","console","log","firstName","state","handleLastNameChange","lastName","handleUserNameChange","userName","handleSubmit","preventDefault","isUniqueUser","i","users","length","handleRegister","view","registerError","handleWordList","words","inputWords","handleUserList","ticks","min","Math","floor","secondsRemaining","sec","minutes","seconds","clearInterval","intervalHandle","startCountDown","setInterval","text","index","outputWords","scores","word","marginLeft","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/App.css';\nimport StartButton from './StartButton';\nimport Timer from './Timer';\nimport CreatePlayer from './Player';\nimport RegisterPlayer from './Register';\nimport WordList from './WordList';\nimport UserList from './UserList';\nimport CreateScore from './Score';\n\nclass App extends React.Component {\n  //Constructor...Starts\n  constructor(props) {\n    super(props);\n    this.state = {\n      minutes: '1',\n      seconds: '00',\n      text: 'Live',\n      view: 'Register',\n      firstName: '',\n      lastName: '',\n      userName: '',\n      users: [],\n      registerError: '',\n    };\n\n    this.secondsRemaining = 0;\n    this.intervalHandle = 0;\n    this.inputWords = [];\n    this.index = -1;\n    this.outputWords = [];\n    this.scores = 0;\n  }\n  //Constructor...Ends\n\n  //calculateScore....Starts\n  calculateScores() {\n    let index = 1;\n    while (index < this.outputWords.length) {\n      console.log('outputWords ', this.outputWords[index]);\n      console.log('inputWords ', this.inputWords[index - 1].word);\n      if (this.outputWords[index] === this.inputWords[index - 1].word)\n        this.scores++;\n      index++;\n    }\n  }\n\n  //handleChange...Starts\n  handleChange = event => {\n    this.setState({value: event.target.value});\n  };\n  //handleChange...Ends\n\n  //handleFirstNameChange...Starts\n  handleFirstNameChange = event => {\n    console.log(\"firstnamechange\")\n    this.setState({firstName: event.target.value});\n    console.log(this.state.firstName)\n  };\n  //handleFirstNameChange...Ends\n\n  //handleLastNameChange...Starts\n  handleLastNameChange = event => {\n    this.setState({lastName: event.target.value});\n    console.log(this.state.lastName)\n  };\n  //handleLastNameChange...Ends\n\n  //handleUserNameChange...Starts\n  handleUserNameChange = event => {\n    console.log('handle user name change');\n    this.setState({userName: event.target.value});\n    console.log(this.state.userName)\n  };\n  //handleUserNameChange...Ends\n\n  //handleSubmit...Starts\n  handleSubmit = event => {\n    //call the create player mutation with the given input\n\n    // console.log('this state value = ', this.state.value);\n    // if (this.index < this.inputWords.length - 1) {\n    //   this.index++;\n    //   console.log('Handle submit if::index = ', this.index);\n    //   this.outputWords.push(this.state.value);\n    //   this.setState({\n    //     text: this.inputWords[this.index].word,\n    //   });\n    // } else {\n    //   this.calculateScores();\n    //   this.setState({\n    //     view: 'Score Time',\n    //   });\n    // }\n\n    // // to clear the input box every time. This gives warning though\n    // this.state.value = '';\n\n    event.preventDefault();\n  };\n  //handleSubmit...Ends\n\n  //isUniqueUser...starts\n  isUniqueUser = () => {\n    let i;\n    console.log('isUniqueUser');\n    for (i = 0; i < this.state.users.length; i++) {\n      if (this.state.users[i].userName === this.userName) {\n        return false;\n      }\n    }\n    return true;\n  };\n  //isUniqueUser...ends\n\n  //handleRegister...Starts\n  handleRegister = () => {\n    if (this.isUniqueUser()) {\n      console.log('new user');\n      this.setState({view: 'Loading words...'});\n    } else {\n      this.setState({\n        view: 'Register',\n        registerError: 'Username already taken',\n      });\n    }\n  };\n  //handleRegister...Ends\n\n  //handleWordList...Starts\n  handleWordList = words => {\n    this.inputWords = words;\n    this.setState({view: 'Game'});\n  };\n  //handleWordList...Ends\n\n  //handleUserList...Starts\n  handleUserList = users => {\n    console.log('handle user list');\n    this.state.users = users;\n    console.log(this.state.users.length);\n  };\n  //handleUserList...Ends\n\n  //ticks...Starts\n  ticks = () => {\n    var min = Math.floor(this.secondsRemaining / 60);\n    var sec = this.secondsRemaining;\n\n    this.setState({\n      minutes: min,\n      seconds: sec,\n    });\n\n    if (min < 10) {\n      this.setState({minutes: '0' + min});\n    }\n\n    if (sec < 10) {\n      this.setState({seconds: '0' + sec});\n    }\n\n    if ((min === 0) & (sec === 0)) {\n      clearInterval(this.intervalHandle);\n      this.setState({view: 'Score Time'});\n    }\n\n    this.secondsRemaining--;\n  };\n  //ticks..Ends\n\n  //startContDown...Starts\n  startCountDown = () => {\n    console.log('inside countdown');\n    this.intervalHandle = setInterval(this.ticks, 1000);\n    this.secondsRemaining = 10;\n  };\n  //startCountDown...Ends\n\n  //render...Starts\n  render() {\n    if (this.state.view === 'Register') {\n      return (\n        <div className=\"App\">\n          <h2>!!!TYPING GAME!!!</h2>\n          <UserList onLoadComplete={this.handleUserList} />\n          <RegisterPlayer\n            handleFirstName={this.handleFirstNameChange}\n            handleLastName={this.handleLastNameChange}\n            handleUserName={this.handleUserNameChange}\n          />\n          <CreatePlayer\n            handleRegister={this.handleRegister}\n            firstName={this.state.firstName}\n            lastName={this.state.lastName}\n            userName={this.state.userName}\n          />\n          {this.state.registerError}\n        </div>\n      );\n    }\n\n    if (this.state.view === 'Loading words...') {\n      return <WordList onLoadComplete={this.handleWordList} />;\n    }\n    if (this.state.view === 'Game') {\n      return (\n        <div className=\"App\">\n          <div float=\"left\">\n            <Timer minutes={this.state.minutes} seconds={this.state.seconds} />\n            <StartButton startCountDown={this.startCountDown} />\n          </div>\n          <h2>!!!TYPING GAME!!!</h2>\n          <p />\n          <div>{this.state.text}</div>\n          <form onSubmit={this.handleSubmit}>\n            <input\n              type=\"text\"\n              value={this.state.value}\n              onChange={this.handleChange}\n            />\n            <input style={{marginLeft: 10}} type=\"submit\" value=\"Submit\" />\n          </form>\n\n          <div />\n        </div>\n      );\n    }\n    if (this.state.view === 'Score Time') {\n      return (\n        <CreateScore userName={this.state.userName} score={this.scores} />\n        //<div>\"You scored \" {this.scores}</div>\n      );\n    }\n  }\n  //render...Ends\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}